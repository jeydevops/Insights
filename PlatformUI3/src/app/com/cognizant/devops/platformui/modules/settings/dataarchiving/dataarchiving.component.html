<!--
*******************************************************************************
 * Copyright 2019 Cognizant Technology Solutions
 * 
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License.  You may obtain a copy
 * of the License at
 * 
 *   http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 * License for the specific language governing permissions and limitations under
 * the License.
 ****************************************************************************** -->
<div class="pageCss">

  <div layout layout-align="left" class="titleStyle">
    <div>Configuration |
      <a class="greenTitleTxt">Data Archival </a>
    </div>
  </div>
  <div class="orangeStripCss"></div>

  <div layout layout-align="left" class="sectionHeadingStyle">
    <div layout>&nbsp; Data Archival
      <span class="sectionSubHeading"> (Archived data will be removed from the Database and stored in selected folder only in JSON format) </span>
    </div>
  </div>

  <div>
    <div class="btnAlign">
      <button mat-icon-button (click)="editData()" [disabled]="iseditdisabled">
        <mat-icon title="Edit" class="mat-icon material-icons"> <!--usingBtnCss usingBtnCss-->
          edit
        </mat-icon>
      </button>
      <button mat-icon-button (click)="saveData('add')" [disabled]="!iseditdisabled">
        <mat-icon title="Save" class="mat-icon material-icons">
          save
        </mat-icon>
      </button>
    </div>

    <div>
      <table class="mat-elevation-z8 mat-table">
        <thead>
          <tr class="mat-header-row" layout-align="start start">
            <th colspan="3" class="tableHeaderCss mat-header-cell" style="height:40px;border-radius: 10px 10px 0 0;padding-left: 65px;padding-right: 65px">
              <span class="mainHeaderText">Add/Edit information to Archive Data</span>
              <span class="infoHeaderText">(Please note fields marked as “ <span style="color:#ff0000">* </span> ” are mandatory,
              runtime will be auto-populated)</span>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr class="mat-row" *ngFor="let element of displayedColumnsNameMapping">
            <td class="mat-cell" style="width:65%;padding: 0px 0px 0px 65px ;">
              <span class="mainText">{{element.displayName}}</span>
              <span *ngIf="element.type!='text'" style="color:#ff0000;">*</span>
              <span class="infoText">{{element.infoText}}</span>
            </td>
            <td class="mat-cell" style="width:34%;padding: 0px 0px 0px 115px ;">
              <div *ngIf="element.type=='input'">
                <input [(ngModel)]="element.value" name="{{element.key}}" [disabled]="!iseditdisabled" [ngClass]="{  'input-disabled' : !iseditdisabled ,  'form-control': iseditdisabled}"
                  required>
                  <!--OnlyNumber="true"-->
              </div>
              <div *ngIf="element.type=='text'" [(ngModel)]="element.value" [name]="element.key" ngDefaultControl [disabled]="!iseditdisabled">
                <span class="nonEditableText">{{element.value}}</span>
              </div>
              <div *ngIf="element.type=='list'">
                <mat-select [(ngModel)]="element.value" name="{{element.key}}" [ngClass]="{  'input-disabled' : !iseditdisabled ,  'form-control': iseditdisabled}"
                  required placeholder="Select number of records" [disabled]="!iseditdisabled">
                  <mat-option *ngFor="let record of element.record" [value]="record.value">
                    {{record.name}}
                  </mat-option>
                  </mat-select>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!--<table mat-table [dataSource]="displayedColumnsNameMapping" class="mat-elevation-z8">
    <!--<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>->
    <ng-container *matHeaderRowDef="displayedColumns">
      <!--Group1->
      <div class="mat-header-row header-group-row">
        <div class="mat-header-cell header-group" role="columnheader" style="flex: 2">Add/Edit information to Archive Data (Please note fields marked as <span style="color:black">“*” </span> are mandatory,
          runtime will be auto-populated)</div>
      </div>
      <!--<mat-header-row></mat-header-row>->
    </ng-container>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

    <ng-container matColumnDef="displayName">
      <th mat-header-cell *matHeaderCellDef class="tableHeaderCss">Add/Edit information to Archive Data (Please note fields marked as <span style="color:black">“*” </span> are mandatory,
        runtime will be auto-populated)</th>
      <td mat-cell *matCellDef="let element">{{element['displayName']}} {{element['infoText']}}</td>
    </ng-container>

    <ng-container matColumnDef="input">
      <th mat-header-cell *matHeaderCellDef class="tableHeaderCss"></th>
      <td mat-cell *matCellDef="let element">
        {{ element[type]}} aa {{element.type}}
        <input *ngIf="element.type=='input'" [(ngModel)]="element.value" name="{{element[key]}}" [disabled]="!iseditdisabled" [ngClass]="{  'input-disabled' : !iseditdisabled ,  'form-control': iseditdisabled}"
          required>
          <span *ngIf="element[type]=='text'" class="nonEditableText">{{element[value]}}</span>
          <mat-select *ngIf="element[type]=='list'" [(ngModel)]="element[value]" name="{{element[key]}}" [ngClass]="{  'input-disabled' : !iseditdisabled ,  'form-control': iseditdisabled}"
            required placeholder="Select number of records" [disabled]="!iseditdisabled">
            <mat-option *ngFor="let record of element.record" [value]="record.value">
              {{record.name}}
            </mat-option>
            </mat-select>
      </td>
    </ng-container>
  </table>-->

</div>